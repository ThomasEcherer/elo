Ext.data.JsonP.p375A5383_1983_41BE_8BC4_B145CFACA792({"guide":"<h1 id='p375A5383_1983_41BE_8BC4_B145CFACA792-section-dynamische-stichwortlisten'>Dynamische Stichwortlisten</h1>\n<div class='toc'>\n<p><strong>Contents</strong></p>\n<ul>\n<li>1. <a href='#!/guide/p375A5383_1983_41BE_8BC4_B145CFACA792-section-grundlegendes'>Grundlegendes</a>\n </li>\n<li>2. <a href='#!/guide/p375A5383_1983_41BE_8BC4_B145CFACA792-section-definition-einer-stichwortliste'>Definition einer Stichwortliste</a>\n </li>\n<li>3. <a href='#!/guide/p375A5383_1983_41BE_8BC4_B145CFACA792-section-beispiele'>Beispiele</a>\n </li>\n<li>4. <a href='#!/guide/p375A5383_1983_41BE_8BC4_B145CFACA792-section-weitere-einsatzbereiche-von-dynamischen-stichwortlisten'>Weitere Einsatzbereiche von Dynamischen Stichwortlisten</a>\n </li>\n</ul></div>\n\n<p>Dynamische Stichwortlisten stellen einen Standard dar, Daten aus externen Systemen für die Verschlagwortung oder Dateneingabe in ELO zu verwenden. Diese Funktionalität steht clientübergreifend zur Verfügung und kann in der Maskenkonfiguration (für Indexfelder) oder im Formular (für Map-Felder) hinterlegt werden.</p>\n\n<p><span\nstyle='font-weight:bold'>An dieser Stelle wird auf die Dokumentation der dynamischen Stichwortlisten verwiesen. Für Business Solutions wurde hierzu eine Hilfsklasse entwickelt, die Stichwortlisten einfacher erstellen lässt.</span></p>\n\n<h2 id='p375A5383_1983_41BE_8BC4_B145CFACA792-section-grundlegendes'>Grundlegendes</h2>\n\n<p>Eine dynamische Stichwortliste erhält vom Client anschließend benötigte Filterkriterien und benutzt diese, um mithilfe einer Datenbankabfrage treffende Ergebnisse zu liefern. Zurückgegeben wird eine Tabelle mit den Daten sowie weiteren Informationen, wie bspw. dem ELO-Feldbezeichner, Spaltennamen, Tabellennamen etc.</p>\n\n<p><span\nstyle='font-weight:bold'>Beispiel:</span></p>\n\n<table><thead><tr><td><span\nstyle='font-weight:bold'>Nummer</span></td><td><span\nstyle='font-weight:bold'>Name</span></td><td><span\nstyle='font-weight:bold'>Straße</span></td><td><span\nstyle='font-weight:bold'>Land</span></td></tr></thead><tbody><tr><td><span\nstyle='font-weight:bold'>VENDOR_NO</span></td><td><span\nstyle='font-weight:bold'>VENDOR_NAME</span></td><td><span\nstyle='font-weight:bold'>VENDOR_ADRESS_STREET</span></td><td><span\nstyle='font-weight:bold'>VENDOR_ADRESS_COUNTRY</span></td></tr><tr><td>1001</td><td>MVM Musterhafter</td><td>MusterStr. 12</td><td>DE</td></tr><tr><td>1002</td><td>Lieferant GmbH</td><td>Lieferantenstraße 20</td><td></td></tr></tbody></table>\n\n\n<p>ELO Java Client, ELO Web Client sowie ELOwf implementieren dieses Konzept und bieten eine tabellarische Auswahl an Daten an. Wählt der Benutzer eine Spalte aus, werden alle Daten nach den ELO-Feldbezeichnern übernommen.</p>\n\n<p><p><img src=\"guides/p375A5383_1983_41BE_8BC4_B145CFACA792/img1.png\" alt=\"Aufgaben\nELO invoice\nSTART\nArchiv\np Suche\n» Formelle Prüf X\nDOKUMENT\nAdministrator •\nWorkflow anzeigen\nGl Feed\nANSICHT\nAUFGABEN\nBuchungsdaten\nMandant\nDatei einfügen\nKunden AG Mitte\nRechnungsdaten\nBuchungskreis\nKreditor\nStraße Hausnummer\nLand / Ort\nList ldNr\nRechnungsdaten\nRechnungsnummer\nS 14 UStG\nAufgaben\nKlemmbrett\n/ Bearbeitung\nX Mein ELO\nNummer\n1001\n1002\nName\nMVM Musterhafter\nVersicherungsverein Musterstadt\nLieferant GmbH\nKreditorname MVM Musterhafter Versicherungs verein Mus tea\ncoaAOEPPxxx\nSteuernummer Ost. IdNr.\n620/35903\nOE 273627722\nMünchen\nStraße\nMusterstr 12\nLiefer antenstr a ße\nLand PLZ\n12245\n80333\nOrt\nMusterstadt\nMünchen\nIBAN\nOE18 6036\n2013 0453\n4087 00\nSachbearbeiter/ Bes teuer\n471102\nNicht weiterleiten, nur Zwischenspeichern\nSpeichem Drucken\nNächster Bearbeitungsschritt\nWeiter zur Freigabe Abgabe Clearing\" width=\"1136\" height=\"613\"></p></p>\n\n<h2 id='p375A5383_1983_41BE_8BC4_B145CFACA792-section-definition-einer-stichwortliste'>Definition einer Stichwortliste</h2>\n\n<p>Dynamische Stichwortlisten {{DYNLST}} können mithilfe der Klasse <code><a href=\"#!/api/sol.common.ix.DynKwlDatabaseIterator\" rel=\"sol.common.ix.DynKwlDatabaseIterator\" class=\"docClass\">sol.common.ix.DynKwlDatabaseIterator</a></code> definiert werden. Diese stellt alle grundlegenden Funktionen bereit und kann lediglich über Konfigurationswerte definiert werden. <span\nstyle='font-weight:bold'>In den Richtlinien zum </span><a\nhref=\"#!/guide/p948E2AF9_BBE2_4705_BB95_04478A9C7638\"><span\nstyle='font-weight:bold'>Indexserver-Scripting</span></a><span\nstyle='font-weight:bold'> findet sich ein vollständiges Beispiel.</span></p>\n\n<h3 id='p375A5383_1983_41BE_8BC4_B145CFACA792-section-rahmendefinition'>Rahmendefinition</h3>\n\n<p>Als Grundvoraussetzung muss das Gerüst der Tabelle definiert werden. Dieses setzt auch aus dem Namen <code>tableTitle</code> (wird auch im Client angezeigt), den Spaltennamen <code>tableHeaders</code> sowie den ELO Feldbezeichnern <code>tableKeyNames</code> zusammen. Feldbezeichner werden von den Clients ausgewertet, um entsprechende Metadaten/Map-Daten zu identifizieren und zu befüllen.</p>\n\n<blockquote><p><span\nstyle='font-weight:bold;font-style:italic'>Beispiel:</span><span\nstyle='font-style:italic'> Folgendes Beispiel definiert eine dynamische Stichwortliste für das Befüllen einer Tabellenzeile im ELOwf:</span></p></blockquote>\n\n<pre><code><a href=\"#!/api/sol-static-method-define\" rel=\"sol-static-method-define\" class=\"docClass\">sol.define</a>('sol.invoice.ix.dynkwl.TradeCharge', {\n    extend: '<a href=\"#!/api/sol.common.ix.DynKwlDatabaseIterator\" rel=\"sol.common.ix.DynKwlDatabaseIterator\" class=\"docClass\">sol.common.ix.DynKwlDatabaseIterator</a>',\n\n    tableTitle: 'Zuschläge',\n    sqlQuery: \"select code, description from sol_invoice_trade_charge where language = ? AND (code like ? OR description like ?) order by description\",\n    sqlParams: [\n        { valueType: 'LANGUAGE' },\n        { mode: 'STARTS_WITH' },\n        { mode: 'CONTAINS' }\n    ],\n    tableKeyNames: [\"IX_MAP_INVOICE_TRADE_CHARGE_CODE{i}\", \"IX_MAP_INVOICE_TRADE_CHARGE_DESC{i}\"],\n    tableHeaders: [\"Code\", \"Bezeichnung\"]\n});\n</code></pre>\n\n<p>Im Standard können Indexfelder durch die Angabe des Feldnamens befüllt werden. Sollen Map-Felder befüllt werden, muss das Präfix <code>IX_MAP</code> zusätzlich vorangeschrieben werden:</p>\n\n<pre><code>    // Befüllen von Indexfeldern nach Gruppenfeldnamen\n    tableKeyNames: [\"VENDOR_NAME\", \"VENDOR_NO\"],\n\n    // Befüllen von Mapfeldern\n    tableKeyNames: [\"IX_MAP_INVOICE_PURCHASER_NO\", \"IX_MAP_INVOICE_PURCHASER_NAME\"],\n\n    // Befüllen einer Map-Tabellen-Zeile\n    // {i} wird vom ELOwf durch den aktuellen Tabellenindex ersetzt\n    tableKeyNames: [\"IX_MAP_INVOICE_TRADE_CHARGE_CODE{i}\", \"IX_MAP_INVOICE_TRADE_CHARGE_DESC{i}\"],\n</code></pre>\n\n<h3 id='p375A5383_1983_41BE_8BC4_B145CFACA792-section-datenbankabfrage'>Datenbankabfrage</h3>\n\n<p>Die Datenbankabfrage kann in Form eines Prepared-SQL-Statements mithilfe der Property <code>sqlQuery</code> definiert werden und sollte Platzhalter &quot;<code>?</code>&quot; enthalten. Diese Platzhalter werden zur Laufzeit mithilfe der <code>sqlParams</code> aufgelöst. Dabei muss das <code>sqlParams</code>-Array exakt die gleiche Anzahl Elemente beinhalten wie Platzhalter vorhanden sind.</p>\n\n<p>Zur Verfügung stehen:</p>\n\n<ul>\n<li><code>mode</code> - Beschreibt den Vergleichsmodus, bspw. <code>STARTS_WITH</code> oder <code>CONTAINS</code>.</li>\n<li><code>name</code> - Beschreibt den Namen des Gruppen-/ Map-Felds, das vom Client übergeben wurde. Falls kein Name gesetzt wurde, wird die aktuelle Eingabe (Filterwert) des Benutzers verwendet.</li>\n<li><code>message</code> - Definiert eine Fehlermeldung, falls das Feld noch nicht befüllt wurde. Diese Meldung wird im Client ausgegeben.</li>\n</ul>\n\n\n<p>Als Besonderheit kann optional mithilfe eines <code>valueType</code>-Parameters auf Systemeigenschaften zugegriffen werden, bspw. gibt <code>LANGUAGE</code> die aktuelle Benutzersprache zurück.</p>\n\n<p>Einige weitere <span\nstyle='font-weight:bold'>Beispiele:</span></p>\n\n<pre><code>    sqlQuery: \"select CODE, NAME, STREET, ZIPCODE, CITY, COUNTRY_CODE from sol_invoice_company where CODE like ? OR NAME like ?\",\n    sqlParams: [\n      {mode: 'STARTS_WITH'},\n      {mode: 'CONTAINS'}\n    ],\n\n    sqlQuery: \"select NO, NAME from sol_invoice_costobject where COMPANY_CODE = ? AND (NO like ? or NAME like ?) order by NAME\",\n    sqlParams: [\n      { name: 'COMPANY_CODE', message: 'Wählen Sie einen Mandanten aus' },\n      { mode: 'STARTS_WITH' },\n      { mode: 'CONTAINS' }\n    ],\n</code></pre>\n\n<h2 id='p375A5383_1983_41BE_8BC4_B145CFACA792-section-beispiele'>Beispiele</h2>\n\n<h3 id='p375A5383_1983_41BE_8BC4_B145CFACA792-section-dynamische-stichwortlisten-in-der-maskendefinition'>Dynamische Stichwortlisten in der Maskendefinition</h3>\n\n<p>Dynamische Stichwortlisten können in der Maskendefinition für jedes Feld hinterlegt werden, bei dem die Liste eingeblendet werden soll. Hierzu wird der Skriptname der Liste im Archiv hinterlegt. Fängt der Benutzer in dem Feld an zu tippen, wird der aktuelle Feldwert als <span\nstyle='font-weight:bold'>Filterwert</span> an die Stichwortliste übermittelt.</p>\n\n<p><p><img src=\"guides/p375A5383_1983_41BE_8BC4_B145CFACA792/img3.png\" alt=\"hinzufügen oder bearbeiten für die Maske.\n• Eingangsrechnung\nFeldi nfo\nitorn u m m er\nund Hausnumme\nx\nStatus\nkonform\nBuch u\nUst- IdNr.\nx Ein g. Selgnge\nOK\nGru\nEingaSelÉnge\nQuick Info\nQuick\nDynamiÆhe Stichwortliste\nCOMPANY CODE\" width=\"851\" height=\"506\"></p></p>\n\n<h3 id='p375A5383_1983_41BE_8BC4_B145CFACA792-section-bef%C3%BCllen-von-indexfeldern-in-einem-elowf-formular'>Befüllen von Indexfeldern in einem ELOwf-Formular</h3>\n\n<p>Das Befüllen von Indexfeldern erfolgt über die Angabe der Stichwortliste <span\nstyle='font-weight:bold;font-style:italic'>Keyword</span>. In diesem Fall ermittelt ELOwf die zugrundeliegende Stichwortliste über die Maskendefinition des angegebenen Gruppennamens.</p>\n\n<p><p><img src=\"guides/p375A5383_1983_41BE_8BC4_B145CFACA792/img5.png\" alt=\"Mandant\nBuchungskreis\nMandant\nFeldtvp\nVariablenname\nStichwortliste\nGruppenname\nEigenschaften der ausgewählten Zelle\nEingabe\nCOMPANY CODE\nAutofill\nNur Listenwerte erlaubt\" width=\"1094\" height=\"204\"></p></p>\n\n<h3 id='p375A5383_1983_41BE_8BC4_B145CFACA792-section-bef%C3%BCllen-einer-tabellenzeile-in-einem-elowf-formular'>Befüllen einer Tabellenzeile in einem ELOwf-Formular</h3>\n\n<p>Sollen Daten in eine Tabellenzeile von ELOwf geschrieben werden, muss der Skriptname der Stichwortliste hinterlegt werden. Zusätzlich muss eine Liste der zu übermittelnden Filter belegt werden, bspw.: <code>IX_GRP_COMPANY_CODE,IX_GRP_VENDOR_NO</code>. Sollen Werte aus der aktuellen Tabellenzeile übernommen werden,  müssen diese mit einem <code>{i}</code> angegeben werden: <code>IX_MAP_INVOICE_TRADE_CHARGE_CODE{i}</code></p>\n\n<p><p><img src=\"guides/p375A5383_1983_41BE_8BC4_B145CFACA792/img7.png\" alt=\"Zahlungsbedingungen\nZahlungsziel (Tage) Skonto in % Zahlungsziel\nWeitere Zeile\nS kontobet rag\nRechnungsbetrag\nals Fälligkeit\nEigenschaften der ausgewählten Zelle\nFeldtvp\nVariablenname\nStichwortliste\nSkriptname\nFilter\nEingabe\nDynamc Keyword Map\nsol.inv&amp;amp;ce.ix.dynkwI.TermsOfPaynu\nAutofill\nNur Listenwerte erlaubt\" width=\"1097\" height=\"237\"></p></p>\n\n<h2 id='p375A5383_1983_41BE_8BC4_B145CFACA792-section-weitere-einsatzbereiche-von-dynamischen-stichwortlisten'>Weitere Einsatzbereiche von Dynamischen Stichwortlisten</h2>\n\n<p>Weiterführend können dynamische Stichwortlisten auch dazu verwendet werden Elemente aus ELO anzubieten. Hierzu gibt die Klasse <code><a href=\"#!/api/sol.common.ix.DynKwlSearchIterator\" rel=\"sol.common.ix.DynKwlSearchIterator\" class=\"docClass\">sol.common.ix.DynKwlSearchIterator</a></code> eine Basis Implementierung. Sollen Kindelemente eines Ordners zurückgegeben werden kann die Klasse <code><a href=\"#!/api/sol.common.ix.DynKwlFindChildrenIterator\" rel=\"sol.common.ix.DynKwlFindChildrenIterator\" class=\"docClass\">sol.common.ix.DynKwlFindChildrenIterator</a></code> eingesetzt werden.</p>\n","title":"Dynamische Stichwortlisten"});