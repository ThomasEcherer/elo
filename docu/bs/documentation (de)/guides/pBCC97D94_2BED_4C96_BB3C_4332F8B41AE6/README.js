Ext.data.JsonP.pBCC97D94_2BED_4C96_BB3C_4332F8B41AE6({"guide":"<h1 id='pBCC97D94_2BED_4C96_BB3C_4332F8B41AE6-section-datenbank-ressource-f%C3%BCr-elo-skripte-anlegen'>Datenbank-Ressource für ELO-Skripte anlegen</h1>\n<div class='toc'>\n<p><strong>Contents</strong></p>\n<ul>\n<li>1. <a href='#!/guide/pBCC97D94_2BED_4C96_BB3C_4332F8B41AE6-section-datenbank-ressource-in-context.xml-datei-hinterlegen'>Datenbank-Ressource in context.xml-Datei hinterlegen</a>\n </li>\n<li>2. <a href='#!/guide/pBCC97D94_2BED_4C96_BB3C_4332F8B41AE6-section-verwenden-der-ressource'>Verwenden der Ressource</a>\n </li>\n</ul></div>\n\n<p>Folgende Schritte erläutern, wie eine Datenbank-Quelle als Ressource in <span\nstyle='font-weight:bold;font-style:italic'>Apache Tomcat</span> angelegt werden kann. Dies wird benötigt, falls aus dem ELO-Scripting heraus auf externe Datenbanken zugegriffen werden soll.</p>\n\n<blockquote><p><span\nstyle='font-weight:bold;font-style:italic'>Beispiel:</span><span\nstyle='font-style:italic'> Dynamische Stichwortlisten erlauben es, ohne große Anpassungen auf Tabellen zuzugreifen, die sich in der ELO-Archivdatenbank befinden. Soll jedoch auf die </span><span\nstyle='font-weight:bold;font-style:italic'>DocXtractor Matching DB</span><span\nstyle='font-style:italic'> zugegriffen werden, muss hierzu eine Datenbank-Ressource angelegt werden, die später im Scripting (<code><a href=\"#!/api/sol.common.ix.DynKwlDatabaseIterator\" rel=\"sol.common.ix.DynKwlDatabaseIterator\" class=\"docClass\">sol.common.ix.DynKwlDatabaseIterator</a></code>) hinterlegt werden kann.</span></p></blockquote>\n\n<h2 id='pBCC97D94_2BED_4C96_BB3C_4332F8B41AE6-section-datenbank-ressource-in-context.xml-datei-hinterlegen'>Datenbank-Ressource in context.xml-Datei hinterlegen</h2>\n\n<p><span class=\"tag_important\">Eine Beschreibung der Tomcat-<span\nstyle='font-style:italic'>context.xml</span>-Optionen findet sich in den <a\nhref=\"https://tomcat.apache.org/tomcat-8.0-doc/config/context.html#Resource_Definitions\"><span\nstyle='font-style:italic'>Resource Definitions</span></a> der Tomcat-Dokumentation.</span></p>\n\n<p>Es empfiehlt sich, die Datenbank-Zugangsdaten in der Datei <span\nstyle='font-weight:bold;font-style:italic'>context.xml</span> zu hinterlegen, um diese nicht im Scripting eingeben zu müssen:</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;!-- The contents of this file will be loaded for each web application --&gt;\n&lt;Context&gt;\n\n    &lt;!-- Add folowing line to file --&gt;\n&lt;Resource name=\"jdbc/invoice.dx\" auth=\"Container\" type=\"javax.sql.DataSource\" \n    driverClassName=\"com.microsoft.sqlserver.jdbc.SQLServerDriver\" \n    url=\"jdbc:sqlserver://localhost:1433;databaseName=invoice\" \n    username=\"elodb\" password=\"elo\" \n    maxActive=\"20\" maxIdle=\"10\" maxWait=\"-1\"/&gt;\n\n&lt;/Context&gt;\n</code></pre>\n\n<h2 id='pBCC97D94_2BED_4C96_BB3C_4332F8B41AE6-section-verwenden-der-ressource'>Verwenden der Ressource</h2>\n\n<p>Ressourcen können nach einem Neustart von Tomcat bspw. in dynamischen Stichwortlisten verwendet werden. Hierzu dient die Konfiguration <code>jdbc</code> der Klasse <code><a href=\"#!/api/sol.common.ix.DynKwlDatabaseIterator\" rel=\"sol.common.ix.DynKwlDatabaseIterator\" class=\"docClass\">sol.common.ix.DynKwlDatabaseIterator</a></code></p>\n\n<p><span\nstyle='font-weight:bold'>Beispiel:</span></p>\n\n<pre><code><a href=\"#!/api/sol-static-method-define\" rel=\"sol-static-method-define\" class=\"docClass\">sol.define</a>('sol.invoice.ix.dynkwl.Company', {\n  extend: '<a href=\"#!/api/sol.common.ix.DynKwlDatabaseIterator\" rel=\"sol.common.ix.DynKwlDatabaseIterator\" class=\"docClass\">sol.common.ix.DynKwlDatabaseIterator</a>',\n\n  // use INVOICE resource\n  jdbc: 'jdbc/INVOICE',\n\n  tableTitle: 'Firma',\n  sqlQuery: \"select CODE, NAME, STREET, ZIPCODE, CITY, COUNTRY_CODE from sol_invoice_company where CODE like ? OR NAME like ?\",\n  sqlParams: [\n    {mode: 'STARTS_WITH'},\n    {mode: 'CONTAINS'}\n  ],\n  tableKeyNames: [\"COMPANY_CODE\", \"COMPANY_NAME\", null, null, null, null],\n  tableHeaders: [\"Nummer\", \"Name\", \"Straße\", \"PLZ\", \"Ort\", \"Land\"]\n});\n</code></pre>\n","title":"Datenbank-Ressource für ELO-Skripte anlegen"});